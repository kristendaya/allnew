{"changed":true,"filter":false,"title":"script.js","tooltip":"/chatbot2/script.js","value":"async function sendMessage() {\n    const userInput = document.getElementById(\"userInput\").value;\n    const chatBox = document.getElementById(\"chatBox\");\n    \n\n    if (userInput.trim() === \"\") {\n        return;\n    }\n\n    const response = await fetch(\"/chatbot\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({ \"user_input\": userInput }),\n    });\n\n    if (!response.ok) {\n        alert(\"Error sending the message.\");\n        return;\n    }\n\n    const data = await response.json();\n    displayChatBotResponse(chatBox, userInput, data.response);\n    document.getElementById(\"userInput\").value = \"\";\n}\n\nfunction displayChatBotResponse(chatBox, userMessage, botMessage) {\n    const userDiv = document.createElement(\"div\");\n    userDiv.className = \"user-message\";\n    userDiv.textContent = \"You: \" + userMessage;\n\n    const botDiv = document.createElement(\"div\");\n    botDiv.className = \"bot-message\";\n    botDiv.textContent = botMessage;\n\n    chatBox.appendChild(userDiv);\n    chatBox.appendChild(botDiv);\n\n    // Scroll to the bottom of the chat box\n    chatBox.scrollTop = chatBox.scrollHeight;\n}\n","undoManager":{"mark":10,"position":10,"stack":[[{"start":{"row":0,"column":0},"end":{"row":41,"column":0},"action":"insert","lines":["async function sendMessage() {","    const userInput = document.getElementById(\"userInput\").value;","    const chatBox = document.getElementById(\"chatBox\");","","    if (userInput.trim() === \"\") {","        return;","    }","","    const response = await fetch(\"/chatbot\", {","        method: \"POST\",","        headers: {","            \"Content-Type\": \"application/json\",","        },","        body: JSON.stringify({ \"user_input\": userInput }),","    });","","    if (!response.ok) {","        alert(\"Error sending the message.\");","        return;","    }","","    const data = await response.json();","    displayChatBotResponse(chatBox, userInput, data.response);","    document.getElementById(\"userInput\").value = \"\";","}","","function displayChatBotResponse(chatBox, userMessage, botMessage) {","    const userDiv = document.createElement(\"div\");","    userDiv.className = \"user-message\";","    userDiv.textContent = \"You: \" + userMessage;","","    const botDiv = document.createElement(\"div\");","    botDiv.className = \"bot-message\";","    botDiv.textContent = botMessage;","","    chatBox.appendChild(userDiv);","    chatBox.appendChild(botDiv);","","    // Scroll to the bottom of the chat box","    chatBox.scrollTop = chatBox.scrollHeight;","}",""],"id":506}],[{"start":{"row":0,"column":0},"end":{"row":41,"column":0},"action":"remove","lines":["async function sendMessage() {","    const userInput = document.getElementById(\"userInput\").value;","    const chatBox = document.getElementById(\"chatBox\");","","    if (userInput.trim() === \"\") {","        return;","    }","","    const response = await fetch(\"/chatbot\", {","        method: \"POST\",","        headers: {","            \"Content-Type\": \"application/json\",","        },","        body: JSON.stringify({ \"user_input\": userInput }),","    });","","    if (!response.ok) {","        alert(\"Error sending the message.\");","        return;","    }","","    const data = await response.json();","    displayChatBotResponse(chatBox, userInput, data.response);","    document.getElementById(\"userInput\").value = \"\";","}","","function displayChatBotResponse(chatBox, userMessage, botMessage) {","    const userDiv = document.createElement(\"div\");","    userDiv.className = \"user-message\";","    userDiv.textContent = \"You: \" + userMessage;","","    const botDiv = document.createElement(\"div\");","    botDiv.className = \"bot-message\";","    botDiv.textContent = botMessage;","","    chatBox.appendChild(userDiv);","    chatBox.appendChild(botDiv);","","    // Scroll to the bottom of the chat box","    chatBox.scrollTop = chatBox.scrollHeight;","}",""],"id":507}],[{"start":{"row":0,"column":0},"end":{"row":41,"column":0},"action":"insert","lines":["async function sendMessage() {","    const userInput = document.getElementById(\"userInput\").value;","    const chatBox = document.getElementById(\"chatBox\");","","    if (userInput.trim() === \"\") {","        return;","    }","","    const response = await fetch(\"/chatbot\", {","        method: \"POST\",","        headers: {","            \"Content-Type\": \"application/json\"","        },","        body: JSON.stringify({ \"user_input\": userInput }),","    });","","    if (!response.ok) {","        alert(\"Error sending the message.\");","        return;","    }","","    const data = await response.json();","    displayChatBotResponse(chatBox, userInput, data.response);","    document.getElementById(\"userInput\").value = \"\";","}","","function displayChatBotResponse(chatBox, userMessage, botMessage) {","    const userDiv = document.createElement(\"div\");","    userDiv.className = \"user-message\";","    userDiv.textContent = \"You: \" + userMessage;","","    const botDiv = document.createElement(\"div\");","    botDiv.className = \"bot-message\";","    botDiv.textContent = botMessage;","","    chatBox.appendChild(userDiv);","    chatBox.appendChild(botDiv);","","    // Scroll to the bottom of the chat box","    chatBox.scrollTop = chatBox.scrollHeight;","}",""],"id":508}],[{"start":{"row":8,"column":31},"end":{"row":8,"column":32},"action":"remove","lines":["h"],"id":509},{"start":{"row":8,"column":30},"end":{"row":8,"column":31},"action":"remove","lines":["c"]},{"start":{"row":8,"column":29},"end":{"row":8,"column":30},"action":"remove","lines":["t"]},{"start":{"row":8,"column":28},"end":{"row":8,"column":29},"action":"remove","lines":["e"]},{"start":{"row":8,"column":27},"end":{"row":8,"column":28},"action":"remove","lines":["f"]}],[{"start":{"row":8,"column":27},"end":{"row":8,"column":28},"action":"insert","lines":["f"],"id":510},{"start":{"row":8,"column":28},"end":{"row":8,"column":29},"action":"insert","lines":["e"]},{"start":{"row":8,"column":29},"end":{"row":8,"column":30},"action":"insert","lines":["t"]}],[{"start":{"row":8,"column":30},"end":{"row":8,"column":31},"action":"insert","lines":[" "],"id":511},{"start":{"row":8,"column":31},"end":{"row":8,"column":32},"action":"insert","lines":["c"]},{"start":{"row":8,"column":32},"end":{"row":8,"column":33},"action":"insert","lines":["h"]}],[{"start":{"row":8,"column":32},"end":{"row":8,"column":33},"action":"remove","lines":["h"],"id":512},{"start":{"row":8,"column":31},"end":{"row":8,"column":32},"action":"remove","lines":["c"]},{"start":{"row":8,"column":30},"end":{"row":8,"column":31},"action":"remove","lines":[" "]}],[{"start":{"row":8,"column":30},"end":{"row":8,"column":31},"action":"insert","lines":["c"],"id":513},{"start":{"row":8,"column":31},"end":{"row":8,"column":32},"action":"insert","lines":["h"]}],[{"start":{"row":8,"column":32},"end":{"row":8,"column":33},"action":"insert","lines":[" "],"id":514}],[{"start":{"row":8,"column":32},"end":{"row":8,"column":33},"action":"remove","lines":[" "],"id":515}],[{"start":{"row":2,"column":55},"end":{"row":3,"column":0},"action":"insert","lines":["",""],"id":516},{"start":{"row":3,"column":0},"end":{"row":3,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":3,"column":4},"end":{"row":3,"column":48},"action":"insert","lines":["const fetch = require('node-fetch').default;"],"id":517}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":3,"column":4},"end":{"row":3,"column":4},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1690792628698}